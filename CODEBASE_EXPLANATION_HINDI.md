# üêà Nanobot Codebase - ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ (‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç)

## üìã ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡§æ ‡§™‡§∞‡§ø‡§ö‡§Ø

**Nanobot** ‡§è‡§ï ‡§Ö‡§§‡•ç‡§Ø‡§Ç‡§§ ‡§π‡§≤‡•ç‡§ï‡§æ (ultra-lightweight) ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§ó‡§§ AI ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§π‡•à ‡§ú‡•ã ‡§∏‡§ø‡§∞‡•ç‡§´ **~3,400 ‡§≤‡§æ‡§á‡§®‡•ã‡§Ç** ‡§ï‡•á ‡§ï‡•ã‡§° ‡§Æ‡•á‡§Ç ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π [Clawdbot](https://github.com/openclaw/openclaw) ‡§∏‡•á ‡§™‡•ç‡§∞‡•á‡§∞‡§ø‡§§ ‡§π‡•à ‡§≤‡•á‡§ï‡§ø‡§® 99% ‡§õ‡•ã‡§ü‡§æ ‡§π‡•à (Clawdbot ‡§Æ‡•á‡§Ç 430k+ ‡§≤‡§æ‡§á‡§®‡•á‡§Ç ‡§π‡•à‡§Ç)‡•§

### ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§µ‡§ø‡§∂‡•á‡§∑‡§§‡§æ‡§è‡§Ç:
- ü™∂ **‡§Ö‡§§‡•ç‡§Ø‡§Ç‡§§ ‡§π‡§≤‡•ç‡§ï‡§æ**: ‡§ï‡•á‡§µ‡§≤ ~3,400 ‡§≤‡§æ‡§á‡§®‡•á‡§Ç
- üî¨ **‡§∂‡•ã‡§ß ‡§ï‡•á ‡§≤‡§ø‡§è ‡§§‡•à‡§Ø‡§æ‡§∞**: ‡§∏‡§æ‡§´ ‡§î‡§∞ ‡§™‡§¢‡§º‡§®‡•á ‡§Ø‡•ã‡§ó‡•ç‡§Ø ‡§ï‡•ã‡§°
- ‚ö°Ô∏è **‡§§‡•á‡§ú‡§º**: ‡§ï‡§Æ ‡§∏‡§Ç‡§∏‡§æ‡§ß‡§® ‡§â‡§™‡§Ø‡•ã‡§ó
- üíé **‡§â‡§™‡§Ø‡•ã‡§ó ‡§Æ‡•á‡§Ç ‡§Ü‡§∏‡§æ‡§®**: ‡§è‡§ï ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§Æ‡•á‡§Ç ‡§§‡•à‡§®‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç

### ‡§∏‡§Æ‡§∞‡•ç‡§•‡§ø‡§§ ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡•â‡§∞‡•ç‡§Æ:
- Telegram, Discord, WhatsApp, Feishu
- OpenRouter, Anthropic, OpenAI, DeepSeek, Groq, Gemini (LLM providers)
- ‡§µ‡•á‡§¨ ‡§ñ‡•ã‡§ú, ‡§∂‡•á‡§≤ ‡§ï‡§Æ‡§æ‡§Ç‡§°, ‡§´‡§æ‡§á‡§≤ ‡§ë‡§™‡§∞‡•á‡§∂‡§®, ‡§∂‡•á‡§°‡•ç‡§Ø‡•Ç‡§≤‡•ç‡§° ‡§ü‡§æ‡§∏‡•ç‡§ï

---

## üìÅ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ø‡§ï‡§æ ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ

```
nanobot/
‚îú‚îÄ‚îÄ nanobot/        # ‡§Æ‡•Å‡§ñ‡•ç‡§Ø Python ‡§™‡•à‡§ï‡•á‡§ú
‚îú‚îÄ‚îÄ bridge/         # WhatsApp ‡§ï‡•á ‡§≤‡§ø‡§è Node.js ‡§¨‡•ç‡§∞‡§ø‡§ú
‚îú‚îÄ‚îÄ workspace/      # ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞‡•á‡§∂‡§® ‡§´‡§æ‡§á‡§≤‡•á‡§Ç
‚îú‚îÄ‚îÄ tests/          # ‡§ü‡•á‡§∏‡•ç‡§ü ‡§´‡§æ‡§á‡§≤‡•á‡§Ç
‚îú‚îÄ‚îÄ case/           # ‡§°‡•á‡§Æ‡•ã GIF ‡§á‡§Æ‡•á‡§ú‡•á‡§∏
‚îî‚îÄ‚îÄ [‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞‡•á‡§∂‡§® ‡§´‡§æ‡§á‡§≤‡•á‡§Ç]
```

---

## üóÇÔ∏è ‡§µ‡§ø‡§∏‡•ç‡§§‡•É‡§§ ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ø‡§ï‡§æ ‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ

### 1. `nanobot/` - ‡§Æ‡•Å‡§ñ‡•ç‡§Ø Python ‡§™‡•à‡§ï‡•á‡§ú

‡§Ø‡§π ‡§™‡§∞‡§ø‡§Ø‡•ã‡§ú‡§®‡§æ ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§≠‡§æ‡§ó ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§∏‡§≠‡•Ä ‡§ï‡•ã‡§∞ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®‡§≤‡§ø‡§ü‡•Ä ‡§π‡•à‡•§

#### üìÇ `nanobot/agent/` - ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§§‡§∞‡•ç‡§ï

‡§Ø‡§π AI ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡§æ ‡§¶‡§ø‡§Æ‡§æ‡§ó ‡§π‡•à‡•§

**‡§´‡§æ‡§á‡§≤‡•á‡§Ç:**


- **`loop.py`** - ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§≤‡•Ç‡§™
  - `AgentLoop` ‡§ï‡•ç‡§≤‡§æ‡§∏: LLM ‡§î‡§∞ ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§∏‡§Ç‡§ö‡§æ‡§∞ ‡§ï‡•ã ‡§∏‡§Ç‡§≠‡§æ‡§≤‡§§‡§æ ‡§π‡•à
  - ‡§∏‡§Ç‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•ã ‡§™‡•ç‡§∞‡•ã‡§∏‡•á‡§∏ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, LLM ‡§ï‡•ã ‡§ï‡•â‡§≤ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à, ‡§î‡§∞ ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§ï‡•ã execute ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - ‡§°‡§ø‡§´‡§º‡•â‡§≤‡•ç‡§ü ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§ï‡•ã ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à (‡§´‡§æ‡§á‡§≤, ‡§∂‡•á‡§≤, ‡§µ‡•á‡§¨, ‡§Æ‡•à‡§∏‡•á‡§ú, ‡§∏‡•ç‡§™‡•â‡§®)

- **`context.py`** - ‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü ‡§¨‡§ø‡§≤‡•ç‡§°‡§∞
  - `ContextBuilder` ‡§ï‡•ç‡§≤‡§æ‡§∏: ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§™‡•ç‡§∞‡•â‡§Æ‡•ç‡§™‡•ç‡§ü ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à
  - workspace ‡§´‡§æ‡§á‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§≤‡•ã‡§° ‡§ï‡§∞‡§§‡§æ ‡§π‡•à (SOUL.md, AGENTS.md, USER.md, TOOLS.md)
  - ‡§∏‡•ç‡§ï‡§ø‡§≤‡•ç‡§∏ ‡§ï‡•ã ‡§ï‡•â‡§®‡•ç‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§ú‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à
  - ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§® ‡§î‡§∞ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§§‡•ç‡§µ ‡§ï‡•ã ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`memory.py`** - ‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§Æ‡•á‡§Æ‡•ã‡§∞‡•Ä
  - `MemoryStore` ‡§ï‡•ç‡§≤‡§æ‡§∏: ‡§¶‡•à‡§®‡§ø‡§ï ‡§®‡•ã‡§ü‡•ç‡§∏ ‡§ï‡•ã ‡§∏‡§Ç‡§≠‡§æ‡§≤‡§§‡§æ ‡§π‡•à
  - `memory/` ‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü‡§∞‡•Ä ‡§Æ‡•á‡§Ç YYYY-MM-DD.md ‡§´‡§æ‡§á‡§≤‡•á‡§Ç ‡§¨‡§®‡§æ‡§§‡§æ ‡§π‡•à
  - ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•ã ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`skills.py`** - ‡§∏‡•ç‡§ï‡§ø‡§≤‡•ç‡§∏ ‡§≤‡•ã‡§°‡§∞
  - `SkillsLoader` ‡§ï‡•ç‡§≤‡§æ‡§∏: ‡§∏‡•ç‡§ï‡§ø‡§≤‡•ç‡§∏ ‡§ï‡•ã ‡§≤‡•ã‡§° ‡§î‡§∞ ‡§Æ‡•à‡§®‡•á‡§ú ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - ‡§¨‡§ø‡§≤‡•ç‡§ü-‡§á‡§® ‡§∏‡•ç‡§ï‡§ø‡§≤‡•ç‡§∏ (`nanobot/skills/`) ‡§î‡§∞ workspace ‡§∏‡•ç‡§ï‡§ø‡§≤‡•ç‡§∏ ‡§ï‡•ã ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - SKILL.md ‡§´‡§æ‡§á‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§™‡§æ‡§∞‡•ç‡§∏ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à (YAML frontmatter + Markdown)

- **`subagent.py`** - ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§ü‡§æ‡§∏‡•ç‡§ï ‡§Æ‡•à‡§®‡•á‡§ú‡§∞
  - `SubagentManager` ‡§ï‡•ç‡§≤‡§æ‡§∏: subagents ‡§ï‡•ã spawn ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - ‡§ú‡§ü‡§ø‡§≤ ‡§Ø‡§æ ‡§∏‡§Æ‡§Ø ‡§≤‡•á‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ö‡§≤‡§æ‡§§‡§æ ‡§π‡•à
  - ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§µ‡§æ‡§™‡§∏ ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`__init__.py`** - ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/agent/tools/` - ‡§¨‡§ø‡§≤‡•ç‡§ü-‡§á‡§® ‡§ü‡•Ç‡§≤‡•ç‡§∏

‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§ü‡•Ç‡§≤‡•ç‡§∏‡•§

- **`base.py`** - ‡§ü‡•Ç‡§≤ ‡§¨‡•á‡§∏ ‡§ï‡•ç‡§≤‡§æ‡§∏
  - `Tool` abstract class: ‡§∏‡§≠‡•Ä ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§á‡§Ç‡§ü‡§∞‡§´‡•á‡§∏
  - `name()`, `description()`, `parameters()`, `execute()` methods

- **`filesystem.py`** - ‡§´‡§æ‡§á‡§≤ ‡§ë‡§™‡§∞‡•á‡§∂‡§® ‡§ü‡•Ç‡§≤‡•ç‡§∏
  - `ReadFileTool`: ‡§´‡§æ‡§á‡§≤‡•á‡§Ç ‡§™‡§¢‡§º‡§§‡§æ ‡§π‡•à
  - `WriteFileTool`: ‡§´‡§æ‡§á‡§≤‡•á‡§Ç ‡§≤‡§ø‡§ñ‡§§‡§æ ‡§π‡•à
  - `EditFileTool`: ‡§´‡§æ‡§á‡§≤‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü replace ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - `ListDirTool`: ‡§°‡§æ‡§Ø‡§∞‡•á‡§ï‡•ç‡§ü‡§∞‡•Ä ‡§ï‡•Ä ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä list ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`shell.py`** - ‡§∂‡•á‡§≤ ‡§ï‡§Æ‡§æ‡§Ç‡§° execution
  - `ExecTool`: ‡§∂‡•á‡§≤ ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§ö‡§≤‡§æ‡§§‡§æ ‡§π‡•à
  - ‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§æ: ‡§ñ‡§§‡§∞‡§®‡§æ‡§ï ‡§ï‡§Æ‡§æ‡§Ç‡§° ‡§¨‡•ç‡§≤‡•â‡§ï ‡§ï‡§∞‡§§‡§æ ‡§π‡•à (rm -rf, format, etc.)
  - ‡§ü‡§æ‡§á‡§Æ‡§Ü‡§â‡§ü ‡§î‡§∞ ‡§Ü‡§â‡§ü‡§™‡•Å‡§ü truncation

- **`web.py`** - ‡§µ‡•á‡§¨ ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ü‡•Ç‡§≤‡•ç‡§∏
  - `WebSearchTool`: Brave Search API ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§µ‡•á‡§¨ ‡§ñ‡•ã‡§ú
  - `WebFetchTool`: URL ‡§∏‡•á content fetch ‡§î‡§∞ extract ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Readability ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§Æ‡•Å‡§ñ‡•ç‡§Ø content ‡§®‡§ø‡§ï‡§æ‡§≤‡§§‡§æ ‡§π‡•à

- **`message.py`** - ‡§Æ‡•à‡§∏‡•á‡§ú‡§ø‡§Ç‡§ó ‡§ü‡•Ç‡§≤
  - `MessageTool`: ‡§Ø‡•Ç‡§ú‡§∞ ‡§ï‡•ã ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§≠‡•á‡§ú‡§§‡§æ ‡§π‡•à
  - ‡§ö‡•à‡§®‡§≤ ‡§î‡§∞ chat_id ‡§ï‡•ã ‡§ü‡•ç‡§∞‡•à‡§ï ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`spawn.py`** - Subagent spawning
  - `SpawnTool`: ‡§¨‡•à‡§ï‡§ó‡•ç‡§∞‡§æ‡§â‡§Ç‡§° ‡§Æ‡•á‡§Ç subagent ‡§ö‡§≤‡§æ‡§§‡§æ ‡§π‡•à
  - ‡§ú‡§ü‡§ø‡§≤ ‡§ï‡§æ‡§∞‡•ç‡§Ø‡•ã‡§Ç ‡§ï‡•ã delegate ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`cron.py`** - ‡§∂‡•á‡§°‡•ç‡§Ø‡•Ç‡§≤‡•ç‡§° ‡§ü‡§æ‡§∏‡•ç‡§ï ‡§ü‡•Ç‡§≤
  - `CronTool`: cron jobs ‡§ï‡•ã ‡§Æ‡•à‡§®‡•á‡§ú ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - ‡§∂‡•á‡§°‡•ç‡§Ø‡•Ç‡§≤‡•ç‡§° ‡§∞‡§ø‡§Æ‡§æ‡§á‡§Ç‡§°‡§∞ ‡§î‡§∞ recurring tasks

- **`registry.py`** - ‡§ü‡•Ç‡§≤ ‡§∞‡§ú‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä
  - `ToolRegistry`: ‡§∏‡§≠‡•Ä ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§ï‡•ã register ‡§î‡§∞ manage ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§ï‡•ã ‡§®‡§æ‡§Æ ‡§∏‡•á retrieve ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`__init__.py`** - ‡§ü‡•Ç‡§≤‡•ç‡§∏ ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®


#### üìÇ `nanobot/channels/` - ‡§∏‡§Ç‡§ö‡§æ‡§∞ ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡•â‡§∞‡•ç‡§Æ

‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® ‡§Æ‡•à‡§∏‡•á‡§ú‡§ø‡§Ç‡§ó ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡•â‡§∞‡•ç‡§Æ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®‡•§

- **`base.py`** - ‡§ö‡•à‡§®‡§≤ ‡§¨‡•á‡§∏ ‡§ï‡•ç‡§≤‡§æ‡§∏
  - `BaseChannel`: ‡§∏‡§≠‡•Ä ‡§ö‡•à‡§®‡§≤‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è abstract interface
  - `start()`, `stop()`, `send()` methods
  - MessageBus ‡§ï‡•á ‡§∏‡§æ‡§• ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®

- **`telegram.py`** - Telegram ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®
  - `TelegramChannel`: Telegram bot API
  - `python-telegram-bot` library ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó
  - Markdown ‡§ï‡•ã Telegram HTML ‡§Æ‡•á‡§Ç convert ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Voice message transcription (Groq Whisper ‡§ï‡•á ‡§∏‡§æ‡§•)
  - Allow list ‡§ï‡•á ‡§∏‡§æ‡§• access control

- **`discord.py`** - Discord ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®
  - `DiscordChannel`: Discord bot
  - `discord.py` library ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó
  - Message intents ‡§î‡§∞ permissions
  - User ID-based access control

- **`whatsapp.py`** - WhatsApp ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®
  - `WhatsAppChannel`: WhatsApp Web ‡§ï‡•á ‡§∏‡§æ‡§•
  - Node.js bridge ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á WebSocket connection
  - QR code scanning ‡§ï‡•á ‡§≤‡§ø‡§è device linking
  - Phone number-based allow list

- **`feishu.py`** - Feishu (È£û‰π¶) ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®
  - `FeishuChannel`: Feishu/Lark bot
  - WebSocket long connection (‡§ï‡•ã‡§à public IP ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç)
  - `lark-oapi` library ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó
  - Event subscription ‡§î‡§∞ message handling
  - Reaction support (üëÄ, ‚úÖ, ‚ùå)

- **`manager.py`** - ‡§ö‡•à‡§®‡§≤ ‡§Æ‡•à‡§®‡•á‡§ú‡§∞
  - `ChannelManager`: ‡§∏‡§≠‡•Ä ‡§ö‡•à‡§®‡§≤‡•ã‡§Ç ‡§ï‡•ã initialize ‡§î‡§∞ manage ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Config ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§ö‡•à‡§®‡§≤‡•ã‡§Ç ‡§ï‡•ã enable/disable ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - ‡§∏‡§≠‡•Ä ‡§ö‡•à‡§®‡§≤‡•ã‡§Ç ‡§ï‡•ã ‡§è‡§ï ‡§∏‡§æ‡§• start/stop ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`__init__.py`** - ‡§ö‡•à‡§®‡§≤ ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/bus/` - ‡§Æ‡•à‡§∏‡•á‡§ú ‡§∞‡•Ç‡§ü‡§ø‡§Ç‡§ó

‡§ö‡•à‡§®‡§≤‡•ã‡§Ç ‡§î‡§∞ ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•á ‡§¨‡•Ä‡§ö ‡§∏‡§Ç‡§¶‡•á‡§∂‡•ã‡§Ç ‡§ï‡•ã route ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§

- **`events.py`** - ‡§Æ‡•à‡§∏‡•á‡§ú ‡§°‡•á‡§ü‡§æ ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ï‡•ç‡§ö‡§∞
  - `InboundMessage`: ‡§Ø‡•Ç‡§ú‡§∞ ‡§∏‡•á ‡§Ü‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§∏‡§Ç‡§¶‡•á‡§∂
    - `channel`, `chat_id`, `user_id`, `text`, `timestamp`
    - `session_key()`: unique session identifier
  - `OutboundMessage`: ‡§è‡§ú‡•á‡§Ç‡§ü ‡§∏‡•á ‡§ú‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•á ‡§∏‡§Ç‡§¶‡•á‡§∂
    - `channel`, `chat_id`, `text`

- **`queue.py`** - ‡§Æ‡•à‡§∏‡•á‡§ú ‡§¨‡§∏
  - `MessageBus`: asyncio queues ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á message routing
  - `publish_inbound()`: ‡§ö‡•à‡§®‡§≤ ‡§∏‡•á ‡§∏‡§Ç‡§¶‡•á‡§∂ receive ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - `consume_inbound()`: ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§Ç‡§¶‡•á‡§∂
  - `publish_outbound()`: ‡§è‡§ú‡•á‡§Ç‡§ü ‡§∏‡•á ‡§Ø‡•Ç‡§ú‡§∞ ‡§ï‡•ã ‡§∏‡§Ç‡§¶‡•á‡§∂

- **`__init__.py`** - ‡§¨‡§∏ ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/providers/` - LLM ‡§™‡•ç‡§∞‡•ã‡§µ‡§æ‡§á‡§°‡§∞

‡§µ‡§ø‡§≠‡§ø‡§®‡•ç‡§® LLM APIs ‡§ï‡•á ‡§∏‡§æ‡§• ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®‡•§

- **`base.py`** - ‡§™‡•ç‡§∞‡•ã‡§µ‡§æ‡§á‡§°‡§∞ ‡§¨‡•á‡§∏ ‡§ï‡•ç‡§≤‡§æ‡§∏
  - `ToolCallRequest`: ‡§ü‡•Ç‡§≤ ‡§ï‡•â‡§≤ request structure
  - `LLMResponse`: LLM response structure
  - `LLMProvider`: abstract provider interface

- **`litellm_provider.py`** - LiteLLM ‡§á‡§Ç‡§ü‡•Ä‡§ó‡•ç‡§∞‡•á‡§∂‡§®
  - `LiteLLMProvider`: ‡§∏‡§≠‡•Ä LLM providers ‡§ï‡•á ‡§≤‡§ø‡§è unified interface
  - OpenRouter, Anthropic, OpenAI, DeepSeek, Groq, Gemini ‡§ï‡•ã ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Function calling ‡§î‡§∞ tool use
  - Streaming responses
  - Token counting ‡§î‡§∞ cost tracking

- **`transcription.py`** - Voice transcription
  - `GroqTranscriptionProvider`: Groq Whisper API
  - Audio files ‡§ï‡•ã text ‡§Æ‡•á‡§Ç convert ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Telegram voice messages ‡§ï‡•á ‡§≤‡§ø‡§è

- **`__init__.py`** - ‡§™‡•ç‡§∞‡•ã‡§µ‡§æ‡§á‡§°‡§∞ ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®


#### üìÇ `nanobot/cron/` - ‡§∂‡•á‡§°‡•ç‡§Ø‡•Ç‡§≤‡•ç‡§° ‡§ü‡§æ‡§∏‡•ç‡§ï

‡§∏‡§Æ‡§Ø-‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§î‡§∞ recurring tasks ‡§ï‡•ã ‡§Æ‡•à‡§®‡•á‡§ú ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§

- **`types.py`** - ‡§°‡•á‡§ü‡§æ ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ï‡•ç‡§ö‡§∞
  - `CronSchedule`: schedule configuration
    - `cron`: cron expression (e.g., "0 9 * * *")
    - `every`: interval in seconds
    - `at`: one-time execution timestamp
  - `CronPayload`: task payload (message, delivery info)
  - `CronJobState`: job state (enabled/disabled, next run time)
  - `CronJob`: complete job definition
  - `CronStore`: jobs ‡§ï‡§æ persistent storage

- **`service.py`** - Cron ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏
  - `CronService`: cron jobs ‡§ï‡•ã execute ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Jobs ‡§ï‡•ã JSON file ‡§Æ‡•á‡§Ç store ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Next run time ‡§ï‡•ã calculate ‡§ï‡§∞‡§§‡§æ ‡§π‡•à (croniter ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó)
  - Background ‡§Æ‡•á‡§Ç jobs ‡§ï‡•ã check ‡§î‡§∞ execute ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Message delivery ‡§ï‡•á ‡§≤‡§ø‡§è MessageBus ‡§ï‡•á ‡§∏‡§æ‡§• integrate

- **`__init__.py`** - Cron ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/heartbeat/` - Proactive Wake-up

‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•ã ‡§∏‡§Æ‡§Ø-‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§ú‡§ó‡§æ‡§§‡§æ ‡§π‡•à‡•§

- **`service.py`** - Heartbeat ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏
  - `HeartbeatService`: ‡§π‡§∞ 30 ‡§Æ‡§ø‡§®‡§ü ‡§Æ‡•á‡§Ç ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•ã wake ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - `HEARTBEAT.md` file ‡§ï‡•ã check ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Periodic tasks ‡§ï‡•ã execute ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•ã trigger ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Background asyncio task ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§ö‡§≤‡§§‡§æ ‡§π‡•à

- **`__init__.py`** - Heartbeat ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/session/` - Conversation Sessions

‡§Ø‡•Ç‡§ú‡§∞ conversations ‡§ï‡•ã ‡§Æ‡•à‡§®‡•á‡§ú ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§

- **`manager.py`** - Session ‡§Æ‡•à‡§®‡•á‡§ú‡§∞
  - `SessionManager`: ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§Ø‡•Ç‡§ú‡§∞ ‡§ï‡•á ‡§≤‡§ø‡§è conversation history
  - Session key: `channel:chat_id` (e.g., `telegram:123456789`)
  - Message history ‡§ï‡•ã memory ‡§Æ‡•á‡§Ç store ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Context window management
  - Session cleanup ‡§î‡§∞ timeout

- **`__init__.py`** - Session ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/config/` - Configuration Management

Application configuration ‡§ï‡•ã handle ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§

- **`schema.py`** - Configuration schema
  - Pydantic models ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á type-safe config
  - `AgentConfig`: agent settings (model, temperature, etc.)
  - `ProviderConfig`: LLM provider credentials
  - `ChannelConfig`: channel-specific settings
  - `ToolConfig`: tool configurations (API keys, etc.)
  - `Config`: complete configuration

- **`loader.py`** - Configuration loader
  - `~/.nanobot/config.json` ‡§∏‡•á config load ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Environment variables ‡§ï‡•ã support ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Default values ‡§î‡§∞ validation
  - Config file creation ‡§î‡§∞ updates

- **`__init__.py`** - Config ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/cli/` - Command Line Interface

Terminal ‡§∏‡•á nanobot ‡§ï‡•ã control ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è commands‡•§

- **`commands.py`** - CLI commands
  - `typer` library ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó
  - **Commands:**
    - `nanobot onboard`: config ‡§î‡§∞ workspace initialize ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
    - `nanobot agent -m "..."`: ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•á ‡§∏‡§æ‡§• chat ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
    - `nanobot agent`: interactive chat mode
    - `nanobot gateway`: ‡§∏‡§≠‡•Ä ‡§ö‡•à‡§®‡§≤‡•ã‡§Ç ‡§ï‡•ã start ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
    - `nanobot status`: system status ‡§¶‡§ø‡§ñ‡§æ‡§§‡§æ ‡§π‡•à
    - `nanobot channels login`: WhatsApp QR code scan
    - `nanobot channels status`: channel status
    - `nanobot cron add/list/remove`: cron jobs manage ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`__init__.py`** - CLI ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®

#### üìÇ `nanobot/utils/` - Utility Functions

‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø helper functions‡•§

- **`helpers.py`** - Helper functions
  - String manipulation
  - File operations
  - Date/time utilities
  - Logging helpers

- **`__init__.py`** - Utils ‡§™‡•à‡§ï‡•á‡§ú ‡§á‡§®‡§ø‡§∂‡§ø‡§Ø‡§≤‡§æ‡§á‡§ú‡§º‡•á‡§∂‡§®


#### üìÇ `nanobot/skills/` - Built-in Skills

‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•Ä ‡§ï‡•ç‡§∑‡§Æ‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä skills‡•§

**Structure:** ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï skill ‡§è‡§ï directory ‡§π‡•à ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç `SKILL.md` file ‡§π‡•à‡•§

- **`README.md`** - Skills documentation
  - Skill format ‡§ï‡•Ä ‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ
  - OpenClaw compatibility
  - Available skills ‡§ï‡•Ä list

- **`github/SKILL.md`** - GitHub integration
  - `gh` CLI ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á GitHub ‡§ï‡•á ‡§∏‡§æ‡§• interact ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Pull requests, issues, CI runs ‡§ï‡•ã manage ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - `gh api` ‡§ï‡•á ‡§∏‡§æ‡§• advanced queries
  - Requirements: `gh` binary

- **`weather/SKILL.md`** - Weather information
  - wttr.in ‡§î‡§∞ Open-Meteo APIs
  - ‡§ï‡•ã‡§à API key ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç
  - Current weather ‡§î‡§∞ forecasts
  - Requirements: `curl`

- **`summarize/SKILL.md`** - Content summarization
  - URLs, files, YouTube videos ‡§ï‡•ã summarize ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Web content extraction
  - Video transcript processing

- **`tmux/SKILL.md`** - Tmux session control
  - Remote tmux sessions ‡§ï‡•ã control ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Scripts: `find-sessions.sh`, `wait-for-text.sh`
  - Terminal multiplexing automation

- **`skill-creator/SKILL.md`** - Skill creation helper
  - ‡§®‡§à skills ‡§¨‡§®‡§æ‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - SKILL.md template generation
  - Metadata ‡§î‡§∞ frontmatter formatting

- **`cron/SKILL.md`** - Cron job management
  - Scheduled tasks ‡§ï‡•ã create ‡§î‡§∞ manage ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Natural language scheduling
  - Recurring ‡§î‡§∞ one-time reminders

#### Root Level Files

- **`__init__.py`** - Main package initialization
  - Package metadata
  - Version information

- **`__main__.py`** - Entry point
  - `python -m nanobot` ‡§ï‡•á ‡§≤‡§ø‡§è
  - CLI commands ‡§ï‡•ã invoke ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

---

### 2. `bridge/` - WhatsApp Node.js Bridge

WhatsApp Web ‡§ï‡•ã Python backend ‡§∏‡•á connect ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è Node.js bridge‡•§

#### Why Node.js?
WhatsApp Web protocol ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¨‡§∏‡•á ‡§Ö‡§ö‡•ç‡§õ‡•Ä library (Baileys) Node.js ‡§Æ‡•á‡§Ç ‡§π‡•à‡•§ ‡§Ø‡§π bridge Python ‡§î‡§∞ Node.js ‡§ï‡•á ‡§¨‡•Ä‡§ö WebSocket ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á communicate ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§

**Files:**

- **`package.json`** - Node.js project configuration
  - Dependencies: `@whiskeysockets/baileys`, `ws`, `qrcode-terminal`, `pino`
  - Scripts: `build`, `start`, `dev`
  - Node.js ‚â•20 required

- **`tsconfig.json`** - TypeScript configuration
  - Compiler options
  - Module resolution
  - Output directory

- **`src/index.ts`** - Entry point
  - Bridge server ‡§ï‡•ã initialize ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Environment variables: `BRIDGE_PORT`, `AUTH_DIR`
  - Graceful shutdown handling (SIGINT, SIGTERM)
  - Default port: 3001

- **`src/server.ts`** - WebSocket server
  - `BridgeServer` class: Python-Node.js communication
  - WebSocket server (ws library)
  - Commands: `send` (message ‡§≠‡•á‡§ú‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è)
  - Events: `message`, `status`, `qr`, `error`
  - Multiple Python clients ‡§ï‡•ã support ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

- **`src/whatsapp.ts`** - WhatsApp client
  - `WhatsAppClient` class: Baileys wrapper
  - QR code generation ‡§î‡§∞ scanning
  - Message sending ‡§î‡§∞ receiving
  - Authentication state management
  - Connection status tracking

- **`src/types.d.ts`** - TypeScript type definitions
  - Interface definitions
  - Type declarations

---

### 3. `workspace/` - Agent Configuration

‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•á ‡§µ‡•ç‡§Ø‡§µ‡§π‡§æ‡§∞ ‡§î‡§∞ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø‡§§‡•ç‡§µ ‡§ï‡•ã configure ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä files‡•§

- **`SOUL.md`** - Agent personality
  - ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•Ä ‡§™‡§π‡§ö‡§æ‡§®: "I am nanobot üêà"
  - Personality traits: helpful, friendly, concise, curious
  - Values: accuracy, privacy, transparency
  - Communication style: clear, direct, explanatory

- **`AGENTS.md`** - Agent instructions
  - General guidelines: explain actions, ask for clarification
  - Available tools ‡§ï‡•Ä list
  - Memory usage instructions
  - Scheduled reminders ‡§ï‡•á ‡§≤‡§ø‡§è commands
  - Heartbeat tasks management

- **`TOOLS.md`** - Tools documentation
  - ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï tool ‡§ï‡§æ detailed documentation
  - Function signatures ‡§î‡§∞ parameters
  - Usage examples
  - Safety notes ‡§î‡§∞ limitations

- **`USER.md`** - User profile template
  - User information: name, timezone, language
  - Preferences: communication style, response length, technical level
  - Work context: role, projects, tools
  - Topics of interest
  - Special instructions

- **`HEARTBEAT.md`** - Periodic tasks
  - ‡§π‡§∞ 30 ‡§Æ‡§ø‡§®‡§ü ‡§Æ‡•á‡§Ç check ‡§π‡•ã‡§®‡•á ‡§µ‡§æ‡§≤‡•á tasks
  - Task format: `- [ ] Task description`
  - Examples: calendar reminders, email scanning, weather checks

- **`memory/MEMORY.md`** - Long-term memory
  - Important information ‡§ú‡•ã ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•ã ‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è
  - User preferences
  - Project details
  - Recurring patterns


---

### 4. `tests/` - Test Files

Testing ‡§î‡§∞ validation ‡§ï‡•á ‡§≤‡§ø‡§è files‡•§

- **`test_docker.sh`** - Docker testing script
  - Docker image ‡§ï‡•ã build ‡§î‡§∞ test ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Container functionality ‡§ï‡•ã verify ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Integration testing

- **`test_tool_validation.py`** - Tool validation tests
  - Tool implementations ‡§ï‡•ã test ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Parameter validation
  - Error handling
  - pytest framework ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó

---

### 5. `case/` - Demo Assets

Demo ‡§î‡§∞ documentation ‡§ï‡•á ‡§≤‡§ø‡§è GIF images‡•§

- **`code.gif`** - Full-stack software engineer demo
  - Code development ‡§î‡§∞ deployment
  
- **`memory.gif`** - Personal knowledge assistant demo
  - Memory ‡§î‡§∞ learning capabilities

- **`schedule.gif`** - Smart daily routine manager demo
  - Task scheduling ‡§î‡§∞ automation

- **`search.gif`** - Real-time market analysis demo
  - Web search ‡§î‡§∞ insights

---

## üìÑ Root Level Configuration Files

### Build ‡§î‡§∞ Deployment

- **`Dockerfile`** - Docker container configuration
  - Base image: `ghcr.io/astral-sh/uv:python3.12-bookworm-slim`
  - Node.js 20 installation (WhatsApp bridge ‡§ï‡•á ‡§≤‡§ø‡§è)
  - Python dependencies (uv ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó)
  - WhatsApp bridge build
  - Port 18790 expose (gateway ‡§ï‡•á ‡§≤‡§ø‡§è)
  - Entrypoint: `nanobot`

- **`.dockerignore`** - Docker build exclusions
  - Build ‡§Æ‡•á‡§Ç include ‡§® ‡§ï‡§∞‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä files
  - Cache directories, logs, etc.

- **`pyproject.toml`** - Python project configuration
  - Package metadata: name, version, description
  - Dependencies: typer, litellm, pydantic, websockets, etc.
  - Optional dependencies: dev tools (pytest, ruff)
  - Scripts: `nanobot` command
  - Build system: hatchling
  - Ruff linting configuration
  - Pytest configuration

### Version Control

- **`.gitignore`** - Git exclusions
  - Python cache files (`__pycache__`, `*.pyc`)
  - Virtual environments (`venv/`, `.venv/`)
  - IDE files (`.vscode/`, `.idea/`)
  - Build artifacts (`dist/`, `build/`)
  - Config files (`config.json`)
  - Node modules (`node_modules/`)

### Documentation

- **`README.md`** - Main documentation (English)
  - Project introduction ‡§î‡§∞ features
  - Installation instructions (source, uv, PyPI)
  - Quick start guide
  - Local models (vLLM) setup
  - Chat apps configuration (Telegram, Discord, WhatsApp, Feishu)
  - Configuration reference
  - CLI commands
  - Docker usage
  - Project structure
  - Contribution guidelines ‡§î‡§∞ roadmap

- **`COMMUNICATION.md`** - Community links
  - WeChat ‡§î‡§∞ Feishu group QR codes
  - HKUDS discussion groups

- **`LICENSE`** - MIT License
  - Open source license terms

### Scripts

- **`core_agent_lines.sh`** - Line counter script
  - Core agent code ‡§ï‡•Ä lines count ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
  - Code size ‡§ï‡•ã verify ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
  - Bash script

### Assets

- **`nanobot_logo.png`** - Project logo
  - Nanobot ‡§ï‡§æ logo (üêà cat theme)

- **`nanobot_arch.png`** - Architecture diagram
  - System architecture ‡§ï‡§æ visual representation
  - Components ‡§î‡§∞ data flow

---

## üîÑ Data Flow ‡§î‡§∞ Architecture

### 1. Message Flow

```
User (Telegram/Discord/WhatsApp/Feishu)
    ‚Üì
Channel (TelegramChannel/DiscordChannel/etc.)
    ‚Üì
MessageBus (publish_inbound)
    ‚Üì
SessionManager (conversation history)
    ‚Üì
AgentLoop (main processing)
    ‚Üì
LLMProvider (LiteLLM ‚Üí OpenRouter/Anthropic/etc.)
    ‚Üì
Tool Execution (filesystem/shell/web/etc.)
    ‚Üì
AgentLoop (response generation)
    ‚Üì
MessageBus (publish_outbound)
    ‚Üì
Channel (send message)
    ‚Üì
User
```

### 2. Component Interactions

**Gateway Mode:**
- ChannelManager ‡§∏‡§≠‡•Ä enabled channels ‡§ï‡•ã start ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
- ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï channel MessageBus ‡§∏‡•á connected ‡§π‡•à
- AgentLoop MessageBus ‡§∏‡•á messages consume ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
- Multiple sessions parallel ‡§Æ‡•á‡§Ç ‡§ö‡§≤ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç

**Agent Mode (CLI):**
- Direct AgentLoop invocation
- ‡§ï‡•ã‡§à channel ‡§®‡§π‡•Ä‡§Ç, ‡§∏‡•Ä‡§ß‡•á terminal I/O
- Single session

**Cron Service:**
- Background ‡§Æ‡•á‡§Ç independently ‡§ö‡§≤‡§§‡§æ ‡§π‡•à
- Scheduled jobs ‡§ï‡•ã execute ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
- MessageBus ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á messages deliver ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

**Heartbeat Service:**
- ‡§π‡§∞ 30 ‡§Æ‡§ø‡§®‡§ü ‡§Æ‡•á‡§Ç trigger ‡§π‡•ã‡§§‡§æ ‡§π‡•à
- HEARTBEAT.md ‡§ï‡•ã read ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
- AgentLoop ‡§ï‡•ã periodic tasks ‡§ï‡•á ‡§∏‡§æ‡§• invoke ‡§ï‡§∞‡§§‡§æ ‡§π‡•à


### 3. Configuration Hierarchy

```
~/.nanobot/
‚îú‚îÄ‚îÄ config.json          # Main configuration
‚îú‚îÄ‚îÄ workspace/           # Agent personality ‡§î‡§∞ instructions
‚îÇ   ‚îú‚îÄ‚îÄ SOUL.md
‚îÇ   ‚îú‚îÄ‚îÄ AGENTS.md
‚îÇ   ‚îú‚îÄ‚îÄ TOOLS.md
‚îÇ   ‚îú‚îÄ‚îÄ USER.md
‚îÇ   ‚îú‚îÄ‚îÄ HEARTBEAT.md
‚îÇ   ‚îî‚îÄ‚îÄ memory/
‚îÇ       ‚îú‚îÄ‚îÄ MEMORY.md
‚îÇ       ‚îî‚îÄ‚îÄ YYYY-MM-DD.md (daily notes)
‚îú‚îÄ‚îÄ skills/              # Custom skills (optional)
‚îÇ   ‚îî‚îÄ‚îÄ my-skill/
‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md
‚îú‚îÄ‚îÄ whatsapp-auth/       # WhatsApp authentication
‚îî‚îÄ‚îÄ cron-store.json      # Scheduled jobs
```

---

## üõ†Ô∏è Key Technologies

### Python Libraries

- **typer**: CLI framework (commands)
- **litellm**: Unified LLM API (‡§∏‡§≠‡•Ä providers ‡§ï‡•ã support)
- **pydantic**: Data validation ‡§î‡§∞ settings
- **websockets**: WebSocket client/server
- **httpx**: Async HTTP client
- **loguru**: Logging
- **readability-lxml**: Web content extraction
- **rich**: Terminal formatting
- **croniter**: Cron expression parsing
- **python-telegram-bot**: Telegram bot API
- **lark-oapi**: Feishu/Lark API

### Node.js Libraries (Bridge)

- **@whiskeysockets/baileys**: WhatsApp Web protocol
- **ws**: WebSocket server
- **qrcode-terminal**: QR code display
- **pino**: Logging

### Development Tools

- **pytest**: Testing framework
- **pytest-asyncio**: Async test support
- **ruff**: Fast Python linter
- **hatchling**: Build backend
- **uv**: Fast Python package installer

---

## üöÄ Execution Modes

### 1. Gateway Mode (`nanobot gateway`)

‡§∏‡§≠‡•Ä configured channels ‡§ï‡•ã start ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ background ‡§Æ‡•á‡§Ç ‡§ö‡§≤‡§§‡§æ ‡§π‡•à‡•§

**Process:**
1. Config load ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
2. MessageBus initialize ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
3. ChannelManager ‡§∏‡§≠‡•Ä enabled channels start ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
4. CronService start ‡§π‡•ã‡§§‡§æ ‡§π‡•à (scheduled tasks ‡§ï‡•á ‡§≤‡§ø‡§è)
5. HeartbeatService start ‡§π‡•ã‡§§‡§æ ‡§π‡•à (periodic wake-ups ‡§ï‡•á ‡§≤‡§ø‡§è)
6. AgentLoop MessageBus ‡§∏‡•á messages consume ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
7. Graceful shutdown (Ctrl+C ‡§™‡§∞)

**Use Case:** Production deployment, 24/7 availability

### 2. Agent Mode (`nanobot agent`)

Direct CLI interaction, ‡§ï‡•ã‡§à channel ‡§®‡§π‡•Ä‡§Ç‡•§

**Modes:**
- **One-shot**: `nanobot agent -m "message"` (single query)
- **Interactive**: `nanobot agent` (continuous chat)

**Use Case:** Testing, debugging, quick queries

### 3. Onboard Mode (`nanobot onboard`)

Initial setup ‡§î‡§∞ configuration‡•§

**Process:**
1. `~/.nanobot/` directory create ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
2. `config.json` template generate ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
3. Workspace files create ‡§ï‡§∞‡§§‡§æ ‡§π‡•à (SOUL.md, AGENTS.md, etc.)
4. Instructions display ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

**Use Case:** First-time setup

### 4. Cron Management (`nanobot cron`)

Scheduled tasks ‡§ï‡•ã manage ‡§ï‡§∞‡§§‡§æ ‡§π‡•à‡•§

**Commands:**
- `nanobot cron add`: ‡§®‡§Ø‡§æ job add ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
- `nanobot cron list`: ‡§∏‡§≠‡•Ä jobs list ‡§ï‡§∞‡§§‡§æ ‡§π‡•à
- `nanobot cron remove <id>`: job delete ‡§ï‡§∞‡§§‡§æ ‡§π‡•à

**Use Case:** Reminders, recurring tasks, automation

### 5. Channel Management (`nanobot channels`)

Channel-specific operations‡•§

**Commands:**
- `nanobot channels login`: WhatsApp QR code scan
- `nanobot channels status`: ‡§∏‡§≠‡•Ä channels ‡§ï‡•Ä status

**Use Case:** WhatsApp setup, debugging

---

## üîê Security Features

### 1. Access Control

- **Allow Lists**: ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï channel ‡§Æ‡•á‡§Ç `allowFrom` configuration
  - Telegram: user IDs
  - Discord: user IDs
  - WhatsApp: phone numbers
  - Feishu: user IDs (ou_xxx)

### 2. Command Safety

- **Dangerous Commands Blocked**: `rm -rf`, `format`, `dd`, `shutdown`, etc.
- **Timeout**: Commands 60 seconds ‡§ï‡•á ‡§¨‡§æ‡§¶ terminate ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç
- **Output Truncation**: 10,000 characters limit
- **Workspace Restriction**: Optional `restrictToWorkspace` config

### 3. API Key Management

- Config file ‡§Æ‡•á‡§Ç API keys store ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç (`~/.nanobot/config.json`)
- Environment variables support
- ‡§ï‡§≠‡•Ä ‡§≠‡•Ä code ‡§Æ‡•á‡§Ç hardcode ‡§®‡§π‡•Ä‡§Ç

### 4. Data Privacy

- ‡§∏‡§≠‡•Ä data locally store ‡§π‡•ã‡§§‡§æ ‡§π‡•à (`~/.nanobot/`)
- ‡§ï‡•ã‡§à external database ‡§®‡§π‡•Ä‡§Ç
- Conversation history memory ‡§Æ‡•á‡§Ç (restart ‡§™‡§∞ clear)
- WhatsApp auth local directory ‡§Æ‡•á‡§Ç

---

## üìä Performance Characteristics

### Code Size

- **Core Agent**: ~3,400 lines
- **Total Project**: ~10,000 lines (including bridge, tests, configs)
- **99% smaller** than Clawdbot (430k+ lines)

### Resource Usage

- **Memory**: ~50-100 MB (Python process)
- **CPU**: Minimal (event-driven, async I/O)
- **Disk**: ~10 MB (code + dependencies)
- **Network**: ‡§ï‡•á‡§µ‡§≤ API calls ‡§ï‡•á ‡§¶‡•å‡§∞‡§æ‡§®

### Startup Time

- **Gateway**: ~2-3 seconds
- **Agent CLI**: ~1 second
- **Docker**: ~5 seconds (container start + initialization)

### Scalability

- **Concurrent Sessions**: Unlimited (async architecture)
- **Message Throughput**: 100+ messages/second
- **Channels**: Multiple channels simultaneously
- **Subagents**: Parallel background tasks

---

## üéØ Use Cases

### 1. Personal Assistant

- Daily reminders ‡§î‡§∞ scheduling
- Email ‡§î‡§∞ calendar management
- Weather updates
- News summaries

### 2. Development Helper

- GitHub operations (PRs, issues, CI)
- Code search ‡§î‡§∞ documentation
- Shell command execution
- File operations

### 3. Research Assistant

- Web search ‡§î‡§∞ information gathering
- Content summarization
- Knowledge management (memory)
- Citation tracking

### 4. Automation

- Scheduled tasks (cron)
- Periodic checks (heartbeat)
- Background processing (subagents)
- Multi-step workflows

### 5. Communication Hub

- Multi-platform messaging (Telegram, Discord, WhatsApp, Feishu)
- Voice message transcription
- Group chat management
- Notification delivery

---

## üîß Customization ‡§î‡§∞ Extension

### 1. Adding Custom Tools

```python
# nanobot/agent/tools/my_tool.py
from nanobot.agent.tools.base import Tool

class MyTool(Tool):
    def name(self) -> str:
        return "my_tool"
    
    def description(self) -> str:
        return "My custom tool description"
    
    def parameters(self) -> dict:
        return {
            "type": "object",
            "properties": {
                "param1": {"type": "string"}
            },
            "required": ["param1"]
        }
    
    async def execute(self, param1: str, **kwargs) -> str:
        # Implementation
        return f"Result: {param1}"

# Register in AgentLoop._register_default_tools()
```

### 2. Creating Custom Skills

```markdown
---
name: my-skill
description: "My custom skill"
metadata: {"nanobot":{"emoji":"üéØ","requires":{"bins":["tool"]}}}
---

# My Skill

Instructions for the agent...

## Usage

Examples...
```

### 3. Adding New Channels

```python
# nanobot/channels/my_channel.py
from nanobot.channels.base import BaseChannel

class MyChannel(BaseChannel):
    async def start(self) -> None:
        # Initialize connection
        pass
    
    async def stop(self) -> None:
        # Cleanup
        pass
    
    async def send(self, msg: OutboundMessage) -> None:
        # Send message
        pass

# Register in ChannelManager._init_channels()
```

### 4. Custom LLM Providers

```python
# nanobot/providers/my_provider.py
from nanobot.providers.base import LLMProvider

class MyProvider(LLMProvider):
    async def chat(self, messages, tools=None, **kwargs):
        # Implementation
        pass
```

---

## üìö Learning Path

### Beginners

1. **Start**: README.md ‡§™‡§¢‡§º‡•á‡§Ç
2. **Setup**: `nanobot onboard` ‡§ö‡§≤‡§æ‡§è‡§Ç
3. **Try**: `nanobot agent -m "Hello"` test ‡§ï‡§∞‡•á‡§Ç
4. **Explore**: workspace files (SOUL.md, AGENTS.md) ‡§¶‡•á‡§ñ‡•á‡§Ç

### Intermediate

1. **Channels**: Telegram bot setup ‡§ï‡§∞‡•á‡§Ç
2. **Skills**: Built-in skills explore ‡§ï‡§∞‡•á‡§Ç
3. **Cron**: Scheduled reminders create ‡§ï‡§∞‡•á‡§Ç
4. **Memory**: Daily notes ‡§î‡§∞ MEMORY.md use ‡§ï‡§∞‡•á‡§Ç

### Advanced

1. **Code**: `nanobot/agent/loop.py` study ‡§ï‡§∞‡•á‡§Ç
2. **Tools**: Custom tool create ‡§ï‡§∞‡•á‡§Ç
3. **Skills**: Custom skill develop ‡§ï‡§∞‡•á‡§Ç
4. **Providers**: Local LLM (vLLM) integrate ‡§ï‡§∞‡•á‡§Ç
5. **Channels**: ‡§®‡§Ø‡§æ channel implementation add ‡§ï‡§∞‡•á‡§Ç

---

## ü§ù Contributing

### Code Style

- **Python**: PEP 8, ruff linting
- **TypeScript**: Standard TypeScript conventions
- **Line Length**: 100 characters
- **Type Hints**: ‡§∏‡§≠‡•Ä functions ‡§Æ‡•á‡§Ç

### Testing

```bash
# Python tests
pytest tests/

# Docker test
bash tests/test_docker.sh
```

### Pull Requests

1. Fork repository
2. Feature branch create ‡§ï‡§∞‡•á‡§Ç
3. Changes commit ‡§ï‡§∞‡•á‡§Ç
4. Tests pass ‡§ï‡§∞‡•á‡§Ç
5. PR submit ‡§ï‡§∞‡•á‡§Ç

---

## üìû Support ‡§î‡§∞ Community

- **GitHub Issues**: Bug reports ‡§î‡§∞ feature requests
- **Discord**: Community discussions
- **WeChat/Feishu**: Chinese community (COMMUNICATION.md ‡§¶‡•á‡§ñ‡•á‡§Ç)

---

## üìù License

MIT License - ‡§¶‡•á‡§ñ‡•á‡§Ç `LICENSE` file

---

## üôè Acknowledgments

- **Inspired by**: [OpenClaw](https://github.com/openclaw/openclaw)
- **Skills Format**: OpenClaw compatibility
- **Contributors**: [GitHub Contributors](https://github.com/HKUDS/nanobot/graphs/contributors)

---

## üìà Future Roadmap

- ‚úÖ Voice Transcription (Groq Whisper)
- ‚è≥ Multi-modal support (images, video)
- ‚è≥ Long-term memory improvements
- ‚è≥ Better reasoning (multi-step planning)
- ‚è≥ More integrations (Slack, email, calendar)
- ‚è≥ Self-improvement capabilities

---

**‡§Ø‡§π document nanobot codebase ‡§ï‡•Ä ‡§∏‡§Ç‡§™‡•Ç‡§∞‡•ç‡§£ ‡§µ‡•ç‡§Ø‡§æ‡§ñ‡•ç‡§Ø‡§æ ‡§π‡•à‡•§ ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï directory, file, ‡§î‡§∞ component ‡§ï‡•ã ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞ ‡§∏‡•á ‡§∏‡§Æ‡§ù‡§æ‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à‡•§**

**üêà Happy Coding with Nanobot!**
